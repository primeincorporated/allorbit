if("undefined"==typeof EditorButtons)var EditorButtons={};jQuery(document).ready(function(){document.getElementById("btn_styles")&&(EditorButtons.Styles_Wrap=$("#btn_styles"),EditorButtons.Styles_Wrap.find(".add_style").bind("click",EditorButtons.Styles_AddRow),EditorButtons.Styles_Wrap.find(".typesel select").bind("change",EditorButtons.CheckTypeDropdown).trigger("change"),EditorButtons.Styles_Wrap.delegate("a.delete","click",EditorButtons.Styles_DelRow),EditorButtons.Styles_SyncRows()),document.getElementById("btn_templates")&&(EditorButtons.Templates_Wrap=$("#btn_templates"),EditorButtons.Templates_Wrap.find(".add_template").bind("click",EditorButtons.Templates_AddRow),EditorButtons.Templates_Wrap.delegate("a.delete","click",EditorButtons.Templates_DelRow),EditorButtons.Templates_SyncRows())}),EditorButtons.Styles_AddRow=function(a){a.preventDefault();var b=EditorButtons.Styles_Wrap.find("tbody.styles_rows").find(".dummy").clone();b.show().removeClass("dummy"),b.appendTo(EditorButtons.Styles_Wrap.find("tbody.styles_rows")),EditorButtons.Styles_SyncRows()},EditorButtons.Styles_DelRow=function(a){a.preventDefault(),$(a.target).closest("tr").fadeOut("slow",function(){$(a.target).closest("tr").remove(),EditorButtons.Styles_SyncRows()})},EditorButtons.CheckTypeDropdown=function(a){var b=$(a.target).val(),c=$(a.target).closest("td");"custom"==b?c.find("input").show():c.find("input").hide()},EditorButtons.Styles_SyncRows=function(){EditorButtons.Styles_Wrap.find("tbody.styles_rows").find("tr").each(function(a,b){$(b).find(":input").each(function(b,c){var d=$(c);if(!c.getAttribute("name"))return!1;var e=d.attr("name").replace(/settings\[styles\]\[.*?\]/,"settings[styles]["+a+"]");d.attr("name",e)})})},EditorButtons.Templates_AddRow=function(a){a.preventDefault();var b=EditorButtons.Templates_Wrap.find("tbody.templates_rows").find(".dummy").clone();b.show().removeClass("dummy"),b.appendTo(EditorButtons.Templates_Wrap.find("tbody.templates_rows")),EditorButtons.Templates_SyncRows()},EditorButtons.Templates_DelRow=function(a){a.preventDefault(),$(a.target).closest("tr").fadeOut("slow",function(){$(a.target).closest("tr").remove(),EditorButtons.Templates_SyncRows()})},EditorButtons.Templates_SyncRows=function(){EditorButtons.Templates_Wrap.find("tbody.templates_rows").find("tr").each(function(a,b){$(b).find(":input").each(function(b,c){var d=$(c);if(!c.getAttribute("name"))return!1;var e=d.attr("name").replace(/settings\[templates\]\[.*?\]/,"settings[templates]["+a+"]");d.attr("name",e)})})};var Editor=Editor?Editor:{};Editor.Server={},Editor.Init=function(){Editor.EditorSettings=$(".EditorField"),Editor.EditorSettings.find(".dmenu").delegate("a","click",Editor.ToggleSettingsSection),Editor.EditorSettings.find(".editor_settings_toggler").delegate("input[type=radio]","click",Editor.ToggleEditorSettingsWrapper),Editor.EditorSettings.each(function(a,b){$(b).find(".editor_settings_toggler").find("input:checked").trigger("click")}),Editor.EditorSettings.find(".tbuttons").each(function(a,b){var c=$(b);c.find(".redactor_toolbar").sortable({connectWith:".redactor_toolbar",containment:c,appendTo:"body",helper:function(a){var b="";return jQuery(a.target).hasClass("redactor_separator")===!0?(b=jQuery(a.target).clone().wrap("<p>").parent().html(),$("<ul class='redactor_toolbar' style='width:10px;height:25px;margin:0'>"+b+"</ul>")):(b=jQuery(a.target).parent().clone().wrap("<p>").parent().html(),$("<ul class='redactor_toolbar' style='width:28px;height:25px;margin:0'>"+b+"</ul>"))},stop:function(a,b){jQuery(a.target).hasClass("buttons_avail")===!0?(b.item.find("input").removeAttr("disabled"),b.item.hasClass("redactor_separator")===!0&&jQuery(a.target).append(b.item.clone())):(b.item.find("input").attr("disabled","disabled"),b.item.hasClass("redactor_separator")===!0&&b.item.remove()),c.find(".redactor_toolbar.buttons_current").find("input").removeAttr("disabled"),c.find(".redactor_toolbar.buttons_avail").find("input").attr("disabled","disabled")}}).disableSelection()}),Editor.EditorSettings.find(".upload_service").delegate("input","click",Editor.ToggleUploadService).find("input:checked").trigger("click"),null!==document.getElementById("field_type")&&($("#field_type").change(Editor.FieldtypeSelect),Editor.PreviousFieldtype=$("#field_type").val())},Editor.ToggleSettingsSection=function(a){a.preventDefault(),Editor.EditorSettings.find(".dmenu").find("li").removeClass("current"),$(a.target).parent().addClass("current"),Editor.EditorSettings.find(".tabholder:visible").hide(),Editor.EditorSettings.find(".tabholder."+a.target.getAttribute("data-section")).show()},Editor.ToggleEditorSettingsWrapper=function(a){var b=$(a.target).closest(".EditorField");b.find(".editor_settings_wrapper").hide(),b.find(".editor_settings_"+a.target.value).show()},Editor.ToggleUploadService=function(a){var b=$(a.target).closest("table");b.find(".upload_wrapper").hide(),b.find(".upload_"+a.target.value).show()},Editor.FieldtypeSelect=function(a){$(a.target);-1!=window.location.href.indexOf("field_id=")&&("textarea"==Editor.PreviousFieldtype||"text"==Editor.PreviousFieldtype||"rte"==Editor.PreviousFieldtype)&&Editor.EditorSettings.find(".editor_fieldtype_toggler").show().find("input:first").trigger("click")};
//# sourceMappingURL=mcp.min.map