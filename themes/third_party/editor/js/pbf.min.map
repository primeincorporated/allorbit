{"version":3,"file":"pbf.min.js","sources":["../../../../source/js/pbf/editor_helper.js","../../../../source/js/pbf/redactor_plugins/channel_images.js","../../../../source/js/pbf/redactor_plugins/dd_keyboard_shortcuts.js","../../../../source/js/pbf/redactor_plugins/link.js","../../../../source/js/pbf/redactor_plugins/native/fontcolor.js","../../../../source/js/pbf/redactor_plugins/native/fontfamily.js","../../../../source/js/pbf/redactor_plugins/native/fontsize.js","../../../../source/js/pbf/redactor_plugins/native/fullscreen.js","../../../../source/js/pbf/redactor_plugins/native/textdirection.js","../../../../source/js/pbf/redactor_plugins/paste_plain.js","../../../../source/js/pbf/redactor_plugins/styles.js","../../../../source/js/pbf/redactor_plugins/templates.js"],"names":["global","$","initMatrix","Matrix","bind","cell","$textarea","dom","$td","config","Editor","matrixColConfigs","col","id","field","row","Math","floor","random","replace","attr","jQuery","redactor","addClass","Handlebars","RedactorPlugins","contentElementsConfig","gridConfig","document","ready","window","registerHelper","value","this","parentIndex","Number","UploadCallback","TriggerRedactorCleanup","i","setTimeout","sync","opts","visual","toggle","openModal","btnName","buttonElem","btnObject","event","ChannelImages","channel_images","init","index","inArray","buttons","console","log","isEmptyObject","button","buttonAddFirst","buttonAddAfter","removeClass","html","dd_keyboard_shortcuts","$editor","parent","on","proxy","e","key","which","ctrl","ctrlKey","metaKey","preventDefault","selectionSave","tdata","showSitePages","showNavee","sitePages","site_pages","modalInit","Templates","plugins_link","modalInitCallback","modal","tabSelected","insert_link_node","sel","getSelection","url","text","target","elem","getParent","par","get","tagName","href","toString","find","val","thref","self","location","search","tab","modalSetTab","call","length","focus","click","insertLink","link","targetBlank","pattern","re","RegExp","re2","linkProtocol","protocol","extra","browser","linkInsert","trim","linkObserver","$link","hasClass","size","pos","offset","iframe","posFrame","$frame","top","scrollTop","left","tooltip","undefined","substring","aLink","linkObserverTooltipClose","aEdit","curLang","edit","aUnlink","unlink","execCommand","append","css","remove","buttonRemove","fontcolor","colors","name","$dropdown","pickerBuild","$toolbar","btn","buttonAdd","$button","dropdownShow","data","rule","_self","onSwatch","$this","pickerSet","len","z","color","$swatch","$elNone","none","type","bufferSet","inlineRemoveStyle","inlineSetStyle","air","$air","fadeOut","fontfamily","fonts","that","dropdown","each","s","title","callback","setFontfamily","resetFontfamily","fontsize","setFontsize","resetFontsize","fullscreen","toggleFullscreen","enableFullScreen","buttonChangeIcon","buttonActive","toolbarExternal","toolcss","boxcss","width","position","$box","fsheight","height","maxHeight","$fullscreenPlaceholder","insertAfter","appendTo","body","fullscreenIframe","fullScreenResize","resize","observeStart","disableFullScreen","buttonRemoveIcon","buttonInactive","off","insertBefore","autoresize","contents","contenteditable","dir","direction","ownerDocument","defaultView","iframeAddCss","fullpage","setFullpageOnInit","set","wym","toolbarHeight","pad","textdirection","ltrTextDirection","rtlTextDirection","blockSetAttr","blockRemoveAttr","plugins_paste_plain","savePaste","content","cleanParagraphy","selectionRestore","insertHtml","modalClose","paste_plain","applyStyle","getCurrent","className","toLowerCase","temp","substr","tmpl","settings","styles","attributes","attr_obj","split","styles_obj","selection","getSelectionHtml","selection_obj","alert","execStyle","classes","style","custom_type","dropdownElem","closest","btn_class","btn_style","data-key","applyTemplate","templates"],"mappings":"CAAE,SAASA,EAAQC,GAEf,YAwBA,SAASC,KAELC,OAAOC,KAAK,SAAU,UAAW,SAASC,GACtC,GAAIC,GAAYL,EAAE,WAAYI,EAAKE,IAAIC,KACnCC,EAASC,OAAOC,iBAAiBN,EAAKO,IAAIC,IAC1CA,EAAKR,EAAKS,MAAMD,GAAG,IAAIR,EAAKU,IAAIF,GAAG,IAAIR,EAAKO,IAAIC,GAAG,IAAIG,KAAKC,MAAoB,IAAdD,KAAKE,SAE3EL,GAAKA,EAAGM,QAAQ,KAAM,KAAKA,QAAQ,KAAM,IAEzCb,EAAUc,KAAK,KAAMP,GAErBQ,OAAO,IAAIR,GAAIS,SAASb,GACxBJ,EAAKE,IAAIC,IAAIe,SAAS,mBAlC9B,GACIC,IADkBxB,EAAOyB,gBAAkBzB,EAAOyB,oBACrCzB,EAAOwB,WAAaxB,EAAOwB,eAE5Cd,QAAOC,oBACPD,OAAOgB,yBACPhB,OAAOiB,cAIPN,OAAOO,UAAUC,MAAM,WAEf,mBAAuBC,QAAe,QAAG5B,MAKjDsB,EAAWO,eAAe,WAAY,SAASC,GAC3CC,KAAKC,YAAcC,OAAOH,KAmC9BtB,OAAO0B,eAAiB,aAUxB1B,OAAO2B,uBAAyB,SAASf,GAErC,IAAK,GAAIgB,GAAI,EAAO,EAAJA,EAAOA,IACnBC,WAAW,WACPjB,EAASkB,OACTlB,EAASmB,KAAKC,QAAS,EACvBpB,EAASqB,UACP,IAAFL,KAMdR,OAAQT,QC/ER,SAASrB,EAAQC,GAEf,YAoCA,SAAS2C,GAAUC,EAASC,EAAYC,EAAWC,GAC/CC,EAAcL,UAAUC,EAASC,EAAYC,EAAWC,EAAOf,MAnCnE,GAAIR,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,oBAClDwB,EAAgBjD,EAAOiD,cAAgBjD,EAAOiD,iBAIlDxB,GAAgByB,gBACZC,KAAM,WACF,GAAIC,GAAQnD,EAAEoD,QAAQ,iBAAkBpB,KAAKQ,KAAKa,QAElD,IAAa,IAATF,EAEA,WADAG,SAAQC,IAAI,iEAIhB,IAAIvD,EAAEwD,cAAcR,MAAmB,EAEnC,WADAM,SAAQC,IAAI,0EAIhB,IAAc,IAAVJ,EACA,GAAIM,GAASzB,KAAK0B,eAAe,iBAAkB,iBAAkBf,OAErE,IAAIc,GAASzB,KAAK2B,eAAe3B,KAAKQ,KAAKa,QAAQF,EAAM,GAAI,iBAAkB,iBAAkBR,EAIrGc,GAAOG,YAAY,sBAEnBH,EAAOI,KAAK,mCAYtBhC,OAAQT,QC5CR,SAASrB,EAAQC,GAEf,YAEA,EAAA,GAAIwB,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,mBACzCzB,GAAOU,OAASV,EAAOU,WAIpCe,EAAgBsC,uBACZZ,KAAM,WACFlB,KAAK+B,QAAQC,SAASC,GAAG,UAAWjE,EAAEkE,MAAM,SAASC,GAIrD,GAAIC,GAAMD,EAAEE,MACRC,EAAOH,EAAEI,SAAWJ,EAAEK,OAG1B,OAAIF,IAAgB,KAARF,GACRD,EAAEM,iBACFzC,KAAKU,UACE,GAHX,QAMDV,UAMTH,OAAQT,QC/BR,SAASrB,EAAQC,GAEf,YA6BA,SAAS2C,KACL,GAAItB,GAAWW,IACfX,GAASqD,eAET,IAAIC,KACJA,GAAMC,cAAiBnE,OAAiB,WACxCkE,EAAME,UAAapE,OAAY,MAC/BkE,EAAMG,UAAarE,OAAiB,WAAIA,OAAOsE,WAAa,GAG5D1D,EAAS2D,UAAU,OAAQvE,OAAOwE,UAAUC,aAAaP,GAAQ,IAAK3E,EAAEkE,MAAMiB,EAAmB9D,IAKrG,QAAS8D,KACL,GAAI9D,GAAWW,KACXoD,EAAQpF,EAAE,mBACVqF,EAAcrF,EAAE,yBAEpBqB,GAASiE,kBAAmB,CAE5B,IAAIC,GAAMlE,EAASmE,eACfC,EAAM,GAAIC,EAAO,GAAIC,EAAS,GAE9BC,EAAOvE,EAASwE,YAChBC,EAAM9F,EAAE4F,GAAM5B,SAAS+B,IAAI,EAC3BD,IAAuB,MAAhBA,EAAIE,UAEXJ,EAAOE,GAGPF,GAAyB,MAAjBA,EAAKI,SAEbP,EAAMG,EAAKK,KACXP,EAAO1F,EAAE4F,GAAMF,OACfC,EAASC,EAAKD,OAEdtE,EAASiE,iBAAmBM,GAE3BF,EAAOH,EAAIW,WAEhBd,EAAMe,KAAK,uBAAuBC,IAAIV,EAEtC,IAAIW,GAAQC,KAAKC,SAASN,KAAK/E,QAAQ,OAAQ,GAK/C,IAJAuE,EAAMA,EAAIvE,QAAQmF,EAAO,IACzBZ,EAAMA,EAAIvE,QAAQ,OAAQ,KAGI,IAA1BuE,EAAIe,OAAO,WAAkB,CAC7B,GAAIC,GAAMrB,EAAMe,KAAK,aACrB9E,GAASqF,YAAYC,KAAKtF,EAAU,GAEpCgE,EAAYe,IAAI,GAChBK,EAAIN,KAAK,kBAAkBC,IAAIX,EAAIvE,QAAQ,UAAW,SACnD,IAAKlB,EAAE,uBAAuBmG,KAAK,iBAAiBV,EAAI,MAAMmB,OAAS,EAC1EvF,EAASqF,YAAYC,KAAKtF,EAAU,GAEpCgE,EAAYe,IAAI,GAChBpG,EAAE,uBAAuBoG,IAAIX,OAC1B,IAAKzF,EAAE,mBAAmBmG,KAAK,iBAAiBV,EAAI,MAAMmB,OAAS,EACtEvF,EAASqF,YAAYC,KAAKtF,EAAU,GAEpCgE,EAAYe,IAAI,GAChBpG,EAAE,mBAAmBoG,IAAIX,OACtB,CACH,GAAIgB,GAAMrB,EAAMe,KAAK,WACrBM,GAAIN,KAAK,kBAAkBC,IAAIX,GAGpB,WAAXE,GACAP,EAAMe,KAAK,wBAAwBhF,KAAK,WAAW,GAGvDiE,EAAMe,KAAK,yBAAyBA,KAAK,yBAAyBU,QAElEzB,EAAMe,KAAK,8BAA8BW,MAAM9G,EAAEkE,MAAM6C,EAAY1F,IAKvE,QAAS0F,KACL,GAAI1F,GAAWW,KAEXqD,GADQrF,EAAE,mBACIA,EAAE,0BAA0BoG,OAC1CY,EAAO,GAAItB,EAAO,GAAIC,EAAS,GAAIsB,EAAc,GACjDR,EAAMzG,EAAE,gBAAkBqF,EAW9B,IATA2B,EAAOP,EAAIN,KAAK,kBAAkBC,MAClCV,EAAOe,EAAIN,KAAK,uBAAuBC,MAEnCK,EAAIN,KAAK,wBAAwBhF,KAAK,aACtCwE,EAAS,mBACTsB,EAAc,UAIE,MAAhB5B,EAAqB,CAErB,GAAI6B,GAAU,6CACVC,EAAK,GAAIC,QAAO,uBAAyBF,EAAS,KAClDG,EAAM,GAAID,QAAO,IAAMF,EAAS,IAEb,KAAnBF,EAAKR,OAAOW,IAAiC,GAApBH,EAAKR,OAAOa,IAAahG,EAASmB,KAAK8E,eAChEN,EAAO3F,EAASmB,KAAK8E,aAAeN,OAKnB,MAAhB3B,GAEL8B,EAAK,GAAIC,QAAO,aAAc,KACP,IAAnBJ,EAAKR,OAAOW,KACZH,EAAO3F,EAASmB,KAAK+E,SAAWP,IAKf,MAAhB3B,IACL2B,EAAO,UAAYA,EAGvBtB,GAAOA,EAAKxE,QAAQ,OAAQ,GAE5B,IAAIsG,GAAQ,QACRnG,GAASoG,QAAQ,aACjBD,EAAQ,UAGZxF,KAAK0F,WAAW,YAAcV,EAAO,IAAMrB,EAAS,IAAMD,EAAO,OAAS8B,EAAOxH,EAAE2H,KAAKjC,GAAOsB,EAAMC,GAKzG,QAASW,GAAazD,GAClB,GAAI0D,GAAQ7H,EAAEmE,EAAEwB,QAEZ3B,EAAShE,EAAEmE,EAAEwB,QAAQ3B,QACzB,KAAIA,EAAO8D,SAAS,iBAAkB9D,EAAO8D,SAAS,aAKlC,GAAhBD,EAAME,QAAoC,MAArBF,EAAM,GAAG7B,QAAlC,CAEA,GAAIgC,GAAMH,EAAMI,QAChB,IAAIjG,KAAKQ,KAAK0F,OACd,CACI,GAAIC,GAAWnG,KAAKoG,OAAOH,QAC3BD,GAAIK,IAAMF,EAASE,KAAOL,EAAIK,IAAMrI,EAAEgC,KAAKL,UAAU2G,aACrDN,EAAIO,MAAQJ,EAASI,KAGzB,GAAIC,GAAUxI,EAAE,+CAEZiG,EAAO4B,EAAM1G,KAAK,OACTsH,UAATxC,IAEAA,EAAO,IAGPA,EAAKW,OAAS,KAAIX,EAAOA,EAAKyC,UAAU,EAAG,IAAM,MAErD,IAAIC,GAAQ3I,EAAE,YAAc6H,EAAM1G,KAAK,QAAU,qBAAuB8E,EAAO,QAAQhC,GAAG,QAASjE,EAAEkE,MAAM,WAEvGlC,KAAK4G,0BAAyB,IAC/B5G,OAEC6G,EAAQ7I,EAAE,eAAiBgC,KAAKQ,KAAKsG,QAAQC,KAAO,QAAQ9E,GAAG,QAASjE,EAAEkE,MAAM,SAASC,GAEzFA,EAAEM,iBACF9B,EAAUgE,KAAK3E,MACfA,KAAK4G,0BAAyB,IAE/B5G,OAECgH,EAAUhJ,EAAE,eAAiBgC,KAAKQ,KAAKsG,QAAQG,OAAS,QAAQhF,GAAG,QAASjE,EAAEkE,MAAM,SAASC,GAE7FA,EAAEM,iBACFzC,KAAKkH,YAAY,UACjBlH,KAAK4G,0BAAyB,IAE/B5G,MAGHwG,GAAQW,OAAOR,GACfH,EAAQW,OAAO,OACfX,EAAQW,OAAON,GACfL,EAAQW,OAAO,OACfX,EAAQW,OAAOH,GACfR,EAAQY,KACJf,IAAML,EAAIK,IAAM,GAAM,KACtBE,KAAMP,EAAIO,KAAO,OAGrBvI,EAAE,0BAA0BqJ,SAC5BrJ,EAAE,QAAQmJ,OAAOX,IA/NrB,GAAIhH,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,oBAClDf,OAASV,EAAOU,OAASV,EAAOU,UAIpCe,GAAgBwF,MACZ9D,KAAM,WACF,GAAI7B,GAAWW,KAEXmB,EAAQnD,EAAEoD,QAAQ,OAAQpB,KAAKQ,KAAKa,QAExC,IAAa,IAATF,EAAJ,CAIA,GAFAnB,KAAKsH,aAAa,QAEJ,IAAVnG,EACA,CAAanB,KAAK0B,eAAe,OAAQ,OAAQf,OAEjD,CAAaX,KAAK2B,eAAe3B,KAAKQ,KAAKa,QAAQF,EAAM,GAAI,OAAQ,OAAQR,GAGjFX,KAAK4F,aAAe5H,EAAEkE,MAAM0D,EAAcvG,OA+MpDQ,OAAQT,QCxOR,SAASrB,EAAQC,GAEf,YAEA,EAAA,GAAIwB,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,mBACzCzB,GAAOU,OAASV,EAAOU,WAIpCe,EAAgB+H,WACZrG,KAAM,WAaF,IAAK,GAXDsG,IACA,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC9G,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC9G,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC9G,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC9G,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAC9G,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAY,UAAW,WAG/GnG,GAAW,YAAa,aAEnBhB,EAAI,EAAO,EAAJA,EAAOA,IACvB,CACI,GAAIoH,GAAOpG,EAAQhB,GAEfqH,EAAY1J,EAAE,uDAAyDyJ,EAAO,0CAElFzH,MAAK2H,YAAYD,EAAWD,EAAMD,GAClCxJ,EAAEgC,KAAK4H,UAAUT,OAAOO,EAExB,IAAIG,GAAM7H,KAAK8H,UAAUL,EAAMzH,KAAKQ,KAAKsG,QAAQW,GAAOzJ,EAAEkE,MAAM,SAAStB,EAASmH,EAASjH,EAAWqB,GAElGnC,KAAKgI,aAAa7F,EAAGvB,IAEtBZ,MAEH6H,GAAII,KAAK,WAAYP,KAG7BC,YAAa,SAASD,EAAWD,EAAMD,GAEnC,GAAIU,GAAO,OACE,eAATT,IAAsBS,EAAO,mBAajC,KAAK,GAXDC,GAAQnI,KACRoI,EAAW,SAASjG,GAEpBA,EAAEM,gBAEF,IAAI4F,GAAQrK,EAAEgC,KACdmI,GAAMG,UAAUD,EAAMJ,KAAK,QAASI,EAAMlJ,KAAK,SAI/CoJ,EAAMf,EAAO5C,OACR4D,EAAI,EAAOD,EAAJC,EAASA,IACzB,CACI,GAAIC,GAAQjB,EAAOgB,GAEfE,EAAU1K,EAAE,WAAayK,EAAQ,gBAAkBP,EAAM,+HAC7DQ,GAAQtB,IAAI,mBAAoBqB,GAChCf,EAAUP,OAAOuB,GACjBA,EAAQzG,GAAG,QAASmG,GAGxB,GAAIO,GAAU3K,EAAE,0GACf6D,KAAK7B,KAAKQ,KAAKsG,QAAQ8B,MACvB3G,GAAG,QAAS,SAASE,GAElBA,EAAEM,iBACF0F,EAAMG,UAAUJ,GAAM,IAG1BR,GAAUP,OAAOwB,IAErBL,UAAW,SAASJ,EAAMW,GAEtB7I,KAAK8I,YAEL9I,KAAK+B,QAAQ8C,QACb7E,KAAK+I,kBAAkBb,GACnBW,KAAS,GAAO7I,KAAKgJ,eAAed,EAAMW,GAC1C7I,KAAKQ,KAAKyI,KAAKjJ,KAAKkJ,KAAKC,QAAQ,KACrCnJ,KAAKO,UAIfV,OAAQT,QCzFR,SAASrB,EAAQC,GAEf,YAEA,EAAA,GAAIwB,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,mBACzCzB,GAAOU,OAASV,EAAOU,WAIpCe,EAAgB4J,YACZlI,KAAM,WAEF,GAAImI,IAAU,QAAS,YAAa,UAAW,kBAAmB,aAC9DC,EAAOtJ,KACPuJ,IAEJvL,GAAEwL,KAAKH,EAAO,SAAShJ,EAAGoJ,GAEtBF,EAAS,IAAMlJ,IAAOqJ,MAAOD,EAAGE,SAAU,WAAaL,EAAKM,cAAcH,OAG9EF,EAAiB,QAAMG,MAAO,cAAeC,SAAU,WAAaL,EAAKO,oBAEzE7J,KAAK8H,UAAU,aAAc,sBAAsB,EAAOyB,IAE9DK,cAAe,SAAU7J,GAErBC,KAAKgJ,eAAe,cAAejJ,IAEvC8J,gBAAiB,WAEb7J,KAAK+I,kBAAkB,kBAIjClJ,OAAQT,QCnCR,SAASrB,EAAQC,GAEf,YAEA,EAAA,GAAIwB,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,mBACzCzB,GAAOU,OAASV,EAAOU,WAIpCe,EAAgBsK,UACZ5I,KAAM,WAEF,GAAImI,IAAS,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAC7CC,EAAOtJ,KACPuJ,IAEJvL,GAAEwL,KAAKH,EAAO,SAAShJ,EAAGoJ,GAEtBF,EAAS,IAAMlJ,IAAOqJ,MAAOD,EAAI,KAAME,SAAU,WAAaL,EAAKS,YAAYN,OAGnFF,EAAiB,QAAMG,MAAO,mBAAoBC,SAAU,WAAaL,EAAKU,kBAE9EhK,KAAK8H,UAAU,WAAY,oBAAoB,EAAOyB,IAE1DQ,YAAa,SAAShE,GAElB/F,KAAKgJ,eAAe,YAAajD,EAAO,OAE5CiE,cAAe,WAEXhK,KAAK+I,kBAAkB,gBAIjClJ,OAAQT,QCnCR,SAASrB,EAAQC,GAEf,YAEA,EAAA,GAAIwB,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,mBACzCzB,GAAOU,OAASV,EAAOU,WAIpCe,EAAgByK,YACZ/I,KAAM,WAEFlB,KAAKiK,YAAa,EAElBjK,KAAK8H,UAAU,aAAc,aAAc9J,EAAEkE,MAAMlC,KAAKkK,iBAAkBlK,OAEtEA,KAAKQ,KAAKyJ,YAAYjK,KAAKkK,oBAEnCC,iBAAkB,WAoBd,GAlBAnK,KAAKoK,iBAAiB,aAAc,gBACpCpK,KAAKqK,aAAa,cAClBrK,KAAKiK,YAAa,EAEdjK,KAAKQ,KAAK8J,kBAEVtK,KAAKuK,WACLvK,KAAKwK,UACLxK,KAAKuK,QAAQE,MAAQzK,KAAK4H,SAASR,IAAI,SACvCpH,KAAKuK,QAAQlE,IAAMrG,KAAK4H,SAASR,IAAI,OACrCpH,KAAKuK,QAAQG,SAAW1K,KAAK4H,SAASR,IAAI,YAC1CpH,KAAKwK,OAAOnE,IAAMrG,KAAK2K,KAAKvD,IAAI,QAGpCpH,KAAK4K,SAAW5K,KAAK+B,QAAQ8I,SACzB7K,KAAKQ,KAAK0F,SAAQlG,KAAK4K,SAAW5K,KAAKoG,OAAOyE,UAE9C7K,KAAKQ,KAAKsK,WAAW9K,KAAK+B,QAAQqF,IAAI,aAAc,IACpDpH,KAAKQ,KAAK0F,OAAQ,GAAIrE,GAAO7B,KAAK+D,KAEjC/D,MAAK+K,yBAAwB/K,KAAK+K,uBAAyB/M,EAAE,WAClEgC,KAAK+K,uBAAuBC,YAAYhL,KAAK2K,MAE7C3K,KAAK2K,KAAKM,SAAStL,SAASuL,MAE5BlL,KAAK2K,KAAKrL,SAAS,2BACnBtB,EAAE,cAAcoJ,IAAI,WAAY,UAE5BpH,KAAKQ,KAAK0F,QAAQlG,KAAKmL,iBAAiBtJ,GAE5C7B,KAAKoL,mBACLpN,EAAE6B,QAAQwL,OAAOrN,EAAEkE,MAAMlC,KAAKoL,iBAAkBpL,OAChDhC,EAAE2B,UAAU2G,UAAU,EAAG,GAEzBtG,KAAK6E,QACL7E,KAAKsL,gBAETC,kBAAmB,WAEfvL,KAAKwL,iBAAiB,aAAc,gBACpCxL,KAAKyL,eAAe,cACpBzL,KAAKiK,YAAa,EAElBjM,EAAE6B,QAAQ6L,IAAI,SAAU1N,EAAEkE,MAAMlC,KAAKoL,iBAAkBpL,OACvDhC,EAAE,cAAcoJ,IAAI,WAAY,IAEhCpH,KAAK2K,KAAKgB,aAAa3L,KAAK+K,wBAC5B/K,KAAK+K,uBAAuB1D,SAE5BrH,KAAK2K,KAAK/I,YAAY,2BAA2BwF,KAAMqD,MAAO,OAAQI,OAAQ,SAE1E7K,KAAKQ,KAAK0F,SAAQrE,KAAO7B,KAAK+B,QAAQF,QAEtC7B,KAAKQ,KAAK0F,OAAQlG,KAAKmL,iBAAiBtJ,MACvC7B,KAAKO,MAEV,IAAIsK,GAAS7K,KAAK4K,QACd5K,MAAKQ,KAAKoL,aAAYf,EAAS,QAC/B7K,KAAKQ,KAAKsK,WAAW9K,KAAK+B,QAAQqF,IAAI,aAAcpH,KAAKQ,KAAKsK,WAE9D9K,KAAKQ,KAAK8J,kBAEVtK,KAAK2K,KAAKvD,IAAI,MAAOpH,KAAKwK,OAAOnE,KACjCrG,KAAK4H,SAASR,KACVqD,MAASzK,KAAKuK,QAAQE,MACtBpE,IAAOrG,KAAKuK,QAAQlE,IACpBqE,SAAY1K,KAAKuK,QAAQG,YAI5B1K,KAAKQ,KAAK0F,OACVlG,KAAKoG,OAAOgB,IAAI,SAAUyD,GADR7K,KAAK+B,QAAQqF,IAAI,SAAUyD,GAGlD7K,KAAK+B,QAAQqF,IAAI,SAAUyD,GAC3B7K,KAAK6E,QACL7E,KAAKsL,gBAETpB,iBAAkB,WAETlK,KAAKiK,WAMNjK,KAAKuL,oBAJLvL,KAAKmK,oBAObgB,iBAAkB,SAAStJ,GAEvB7B,KAAK+B,QAAU/B,KAAKoG,OAAOyF,WAAW1H,KAAK,QAC3CnE,KAAK+B,QAAQ5C,MAAO2M,iBAAmB,EAAMC,IAAO/L,KAAKQ,KAAKwL,YAG1DhM,KAAK+B,QAAQ,KAEb/B,KAAKL,SAAWK,KAAK+B,QAAQ,GAAGkK,cAChCjM,KAAKH,OAASG,KAAKL,SAASuM,aAAerM,QAI/CG,KAAKmM,eAEDnM,KAAKQ,KAAK4L,SAAUpM,KAAKqM,kBAAkBxK,GAC1C7B,KAAKsM,IAAIzK,GAEV7B,KAAKQ,KAAK+L,KAAKvM,KAAK+B,QAAQzC,SAAS,wBAE7C8L,iBAAkB,WAEd,IAAKpL,KAAKiK,WAAY,OAAO,CAE7B,IAAIuC,GAAgBxM,KAAK4H,SAASiD,SAE9B4B,EAAMzM,KAAK+B,QAAQqF,IAAI,eAAelI,QAAQ,KAAM,IACpD2L,EAAS7M,EAAE6B,QAAQgL,SAAW2B,CAClCxM,MAAK2K,KAAKF,MAAMzM,EAAE6B,QAAQ4K,QAAU,GAAGI,OAAOA,EAAS2B,GAEnDxM,KAAKQ,KAAK8J,kBAEVtK,KAAK4H,SAASR,KACVf,IAAO,MACPqE,SAAY,WACZD,MAAS,SAGbzK,KAAK2K,KAAKvD,IAAI,MAAOoF,EAAgB,OAGpCxM,KAAKQ,KAAK0F,OAGX5F,WAAWtC,EAAEkE,MAAM,WAEflC,KAAKoG,OAAOyE,OAAOA,IAEpB7K,MAAO,GAPSA,KAAK+B,QAAQ8I,OAAOA,EAAgB,EAAN4B,GAUrDzM,KAAK+B,QAAQ8I,OAAOA,MAI9BhL,OAAQT,QCnKR,SAASrB,GAEP,YAEA,EAAA,GAAIyB,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,mBACzCzB,GAAOU,OAASV,EAAOU,WAIpCe,EAAgBkN,eACZxL,KAAM,WAEF,GAAIoI,GAAOtJ,KACPuJ,IAEJA,GAAc,KAAMG,MAAO,gBAAiBC,SAAU,WAAcL,EAAKqD,qBACzEpD,EAAc,KAAMG,MAAO,gBAAiBC,SAAU,WAAcL,EAAKsD,qBAEzE5M,KAAK8H,UAAU,YAAa,oBAAoB,EAAOyB,IAE3DqD,iBAAkB,WAEd5M,KAAK8I,YACL9I,KAAK6M,aAAa,MAAO,QAE7BF,iBAAkB,WAEd3M,KAAK8I,YACL9I,KAAK8M,gBAAgB,UAI/BjN,OAAQT,QChCR,SAASrB,EAAQC,GAEf,YA4BA,SAAS2C,KACL,GAAItB,GAAWW,IACfX,GAASqD,eAET,IAAIC,KAGJtD,GAAS2D,UAAU,mBAAoBvE,OAAOwE,UAAU8J,oBAAoBpK,GAAQ,IAAK3E,EAAEkE,MAAMiB,EAAmB9D,IAKxH,QAAS8D,KACL,GAAI9D,GAAWW,KACXoD,EAAQpF,EAAE,kBAEdoF,GAAMe,KAAK,YAAY,GAAGU,QAC1BzB,EAAMe,KAAK,8BAA8BW,MAAM9G,EAAEkE,MAAM8K,EAAW3N,IAKtE,QAAS2N,KACL,GAAI3N,GAAWW,KAEXiN,EAAUjP,EAAE,kCAAkCoG,KAClD6I,GAAU5N,EAAS6N,gBAAgBD,GAEnC5N,EAAS8N,mBACT9N,EAAS+N,WAAWH,GACpB5N,EAASkB,OACTlB,EAASgO,aAzDb,GAAI7N,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,oBAClDf,OAASV,EAAOU,OAASV,EAAOU,UAIpCe,GAAgB8N,aACZpM,KAAM,WACF,GAAIC,GAAQnD,EAAEoD,QAAQ,cAAepB,KAAKQ,KAAKa,QAE/C,IAAa,IAATF,EAAJ,CAEA,GAAc,IAAVA,EACA,GAAIM,GAASzB,KAAK0B,eAAe,cAAe,cAAef,OAE/D,IAAIc,GAASzB,KAAK2B,eAAe3B,KAAKQ,KAAKa,QAAQF,EAAM,GAAI,cAAe,cAAeR,EAI/Fc,GAAOG,YAAY,sBAEnBH,EAAOI,KAAK,uCA0CtBhC,OAAQT,QClER,SAASrB,EAAQC,GAEf,YAmDA,SAASuP,GAAW3M,GAChB,GAAIvB,GAAWW,IAIf,IAHAX,EAASqD,gBACTrD,EAASyJ,YAE8B,gBAAnCzJ,EAASmO,aAAaC,WAIyB,QAA/CpO,EAASmO,aAAaxJ,QAAQ0J,cAAlC,CAMA,GAEI9J,GAAM+J,EAFNvL,EAAMxB,EAAQgN,OAAO,GACrBC,EAAOpP,OAAOqP,SAASC,OAAOA,OAAO3L,GAIrC4L,IACJ,IAAIH,EAAK1O,KAAK,CACVwO,EAAO3P,EAAE,QAAQ6P,EAAK1O,KAAK,IAE3B,KAAK,GAAIkB,GAAIsN,EAAK,GAAGK,WAAWpJ,OAAS,EAAGvE,GAAK,EAAGA,IAChD2N,EAAWL,EAAK,GAAGK,WAAW3N,GAAGoH,MAAQkG,EAAK,GAAGK,WAAW3N,GAAGN,MAKvE8N,EAAKI,SAAWD,CAGhB,IAAID,KACJ,IAAIF,EAAKE,OAAO,CACZJ,EAAOE,EAAKE,OAAOG,MAAM,IAEzB,KAAK,GAAI7N,GAAIsN,EAAK/I,OAAS,EAAGvE,GAAK,EAAGA,IAClCsN,EAAKtN,GAAKsN,EAAKtN,GAAG6N,MAAM,KAEC,mBAAdP,GAAKtN,GAAG,KACf0N,EAAOJ,EAAKtN,GAAG,IAAMsN,EAAKtN,GAAG,IAIzCwN,EAAKM,WAAaJ,CAElB,IAAIK,GAAY/O,EAASgP,mBACrBC,EAAgBtQ,EAAEoQ,EAQtB,OAJKA,KACDP,EAAKhF,KAAO,WAGZyF,EAAc1J,OAAS,MACvB2J,OAAM,+DAIO,UAAbV,EAAKhF,KACL2F,EAAU,SAAUnP,EAAUwO,EAAMO,GAGlB,SAAbP,EAAKhF,KACV2F,EAAU,QAASnP,EAAUwO,EAAMO,GAGjB,UAAbP,EAAKhF,KACV2F,EAAU,SAAUnP,EAAUwO,EAAMO,GAGlB,WAAbP,EAAKhF,OACVjF,EAAO5F,EAAEqB,EAASmO,cAClB5J,EAAKzE,KAAK,QAAS0O,EAAKE,QACxBnK,EAAKzE,KAAK0O,EAAKI,UACfrK,EAAKtE,SAASuO,EAAKY,SACnBhQ,OAAO2B,uBAAuBf,MAMtC,QAASmP,GAAU3F,EAAMxJ,EAAUwO,EAAMO,GAErC,GACIT,GADA/J,EAAO5F,EAAEqB,EAASmO,aAGtB,IAAY,UAAR3E,EAAkB,CAClB8E,EAAO3P,EAAE,4BAA4BmG,KAAK,OAE1C,KAAK,GAAIuK,KAASb,GAAKM,iBAKvBR,GADe,SAAR9E,EACA7K,EAAE,0BAA0BmG,KAAK,OACzB,UAAR0E,EACA7K,EAAE,SAAS6P,EAAKc,YAAY,MAAMd,EAAKc,YAAY,WAAWxK,KAAK0J,EAAKc,aAExE3Q,EAAE,4BAA4BmG,KAAK,OAG9C,IAAIwJ,GAAOA,EAAKxO,KAAK,QAAS0O,EAAKE,QAAQ5O,KAAK,QAAS0O,EAAKY,SAAStP,KAAK0O,EAAKI,UAAUpM,KAAKuM,EAOhGT,GAAOA,EAAK3L,SAASH,OACrB+B,EAAK/B,KAAK+B,EAAK/B,OAAO3C,QAAQkP,EAAWT,IAEzCtO,EAAS8N,mBAnKb,GAAI3N,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,oBAClDf,OAASV,EAAOU,OAASV,EAAOU,UAIpCe,GAAgBuO,QACZ7M,KAAM,WACF,GAAIC,GAAQnD,EAAEoD,QAAQ,SAAUpB,KAAKQ,KAAKa,QAC1C,IAAa,IAATF,EAAJ,CAEA,GAAIoI,KAC2B,oBAApB9K,QAAe,WAAkBA,OAAOqP,aACb,mBAA3BrP,QAAOqP,SAAe,SAAkBrP,OAAOqP,SAASC,WACtB,mBAAlCtP,QAAOqP,SAASC,OAAa,SAAkBtP,OAAOqP,SAASC,OAAOA,UAIjF,KAAK,GAFDA,GAAStP,OAAOqP,SAASC,OAAOA,OAE3B1N,EAAI,EAAGA,EAAI0N,EAAOnJ,OAAQvE,IAC/BkJ,EAAS,SAASlJ,IACdqJ,MAAOqE,EAAO1N,GAAGqJ,MACjB+D,UAAW,SAASpN,EACpBsJ,SAAU4D,EAIlB,IAAc,IAAVpM,EACA,GAAIM,GAASzB,KAAK0B,eAAe,SAAU,SAAU,KAAM6H,OAE3D,IAAI9H,GAASzB,KAAK2B,eAAe3B,KAAKQ,KAAKa,QAAQF,EAAM,GAAI,SAAU,SAAU,KAAMoI,EAI3F9H,GAAOG,YAAY,sBAEnBH,EAAOI,KAAK,8BAIZ,KAAK,GAFD+M,GAAe5Q,EAAEyD,EAAOoN,QAAQ,qBAAqB1K,KAAK,kCAErD9D,EAAI,EAAGA,EAAI0N,EAAOnJ,OAAQvE,IAC/BuO,EAAazK,KAAK,UAAa9D,GAAGf,SAASyO,EAAO1N,GAAGyO,WAAW3P,MAC5DuP,MAAQX,EAAO1N,GAAG0O,UAClBC,WAAY3O,QAwJ9BR,OAAQT,QCrMR,SAASrB,EAAQC,GAEf,YAkDA,SAASiR,GAAcrO,GACnB,GAAIvB,GAAWW,IAIf,IAHAX,EAASqD,gBACTrD,EAASyJ,YAE8B,gBAAnCzJ,EAASmO,aAAaC,WAIyB,QAA/CpO,EAASmO,aAAaxJ,QAAQ0J,cAAlC,CAIA,GAAItL,GAAMxB,EAAQgN,OAAO,GACrBC,EAAOpP,OAAOqP,SAASoB,UAAUA,UAAU9M,GAC3CP,EAAOgM,EAAKhM,IAEhBxC,GAAS8N,mBACT9N,EAAS+N,WAAWvL,GACpBxC,EAASkB,QAnEb,GAAIf,GAAkBzB,EAAOyB,gBAAkBzB,EAAOyB,oBAClDf,OAASV,EAAOU,OAASV,EAAOU,UAIpCe,GAAgB0P,WACZhO,KAAM,WACF,GAAIC,GAAQnD,EAAEoD,QAAQ,YAAapB,KAAKQ,KAAKa,QAC7C,IAAa,IAATF,EAAJ,CAEA,GAAIoI,KAC2B,oBAApB9K,QAAe,WAAkBA,OAAOqP,aACV,mBAA9BrP,QAAOqP,SAAkB,YAAkBrP,OAAOqP,SAASoB,cACnB,mBAAxCzQ,QAAOqP,SAASoB,UAAmB,YAAkBzQ,OAAOqP,SAASoB,UAAUA,aAI1F,KAAK,GAFDA,GAAYzQ,OAAOqP,SAASoB,UAAUA,UAEjC7O,EAAI,EAAGA,EAAI6O,EAAUtK,OAAQvE,IAClCkJ,EAAS,YAAYlJ,IACjBqJ,MAAOwF,EAAU7O,GAAGqJ,MACpB+D,UAAW,YAAYpN,EACvBsJ,SAAUsF,EAIlB,IAAc,IAAV9N,EACA,GAAIM,GAASzB,KAAK0B,eAAe,YAAa,YAAa,KAAM6H,OAEjE,IAAI9H,GAASzB,KAAK2B,eAAe3B,KAAKQ,KAAKa,QAAQF,EAAM,GAAI,YAAa,YAAa,KAAMoI,EAIjG9H,GAAOG,YAAY,sBAEnBH,EAAOI,KAAK,oCAIZ,KAAK,GAFD+M,GAAe5Q,EAAEyD,EAAOoN,QAAQ,qBAAqB1K,KAAK,qCAErD9D,EAAI,EAAGA,EAAI6O,EAAUtK,OAAQvE,IAClCuO,EAAazK,KAAK,aAAgB9D,GAAGf,SAAS4P,EAAU7O,GAAGyO,WAAW3P,MAClE6P,WAAY3O,QAgC9BR,OAAQT","sourcesContent":[";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Handlebars = global.Handlebars = global.Handlebars || {};\n\n    Editor.matrixColConfigs = {};\n    Editor.contentElementsConfig = {};\n    Editor.gridConfig = {};\n\n    // ----------------------------------------------------------------------\n\n    jQuery(document).ready(function(){\n\n        if ('undefined' !== typeof window['Matrix']) initMatrix();\n    });\n\n    // ----------------------------------------------------------------------\n\n    Handlebars.registerHelper('setIndex', function(value){\n        this.parentIndex = Number(value);\n    });\n\n    // ----------------------------------------------------------------------\n\n    function initMatrix(){\n\n        Matrix.bind('editor', 'display', function(cell){\n            var $textarea = $('textarea', cell.dom.$td);\n            var config = Editor.matrixColConfigs[cell.col.id];\n            var id = cell.field.id+'_'+cell.row.id+'_'+cell.col.id+'_'+Math.floor(Math.random()*100000000);\n\n            id = id.replace(/\\[/, '_').replace(/\\]/, '');\n\n            $textarea.attr('id', id);\n\n            jQuery('#'+id).redactor(config);\n            cell.dom.$td.addClass('editor-matrix');\n        });\n    }\n\n    // ----------------------------------------------------------------------\n\n\n\n\n\n\n\n\n\n\n\n\n\n    Editor.UploadCallback = function(obj, json) {\n\n    };\n\n    // ----------------------------------------------------------------------\n\n\n\n    // ********************************************************************************* //\n\n    Editor.TriggerRedactorCleanup = function(redactor) {\n\n        for (var i = 0; i < 5; i++) {\n            setTimeout(function(){\n                redactor.sync();\n                redactor.opts.visual = false;\n                redactor.toggle();\n            }, (i*100));\n        };\n    };\n\n    // ********************************************************************************* //\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var ChannelImages = global.ChannelImages = global.ChannelImages || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.channel_images = {\n        init: function() {\n            var index = $.inArray('channel_images', this.opts.buttons);\n\n            if (index == -1) {\n                console.log('Editor: Channel Images plugin disabled - Not in buttons config');\n                return;\n            }\n\n            if ($.isEmptyObject(ChannelImages) === true) {\n                console.log('Editor: Channel Images plugin disabled - No Channel Images object found');\n                return;\n            }\n\n            if (index === 0) {\n                var button = this.buttonAddFirst('channel_images', 'Channel Images', openModal);\n            } else {\n                var button = this.buttonAddAfter(this.opts.buttons[index-1], 'channel_images', 'Channel Images', openModal);\n            }\n\n            //\n            button.removeClass('redactor-btn-image');\n            //button.addClass('fa-redactor-btn');\n            button.html('<i class=\"dicon-images\"></i>');\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n    function openModal(btnName, buttonElem, btnObject, event) {\n        ChannelImages.openModal(btnName, buttonElem, btnObject, event, this);\n    }\n\n    // ----------------------------------------------------------------------\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.dd_keyboard_shortcuts = {\n        init: function() {\n            this.$editor.parent().on('keydown', $.proxy(function(e) {\n\n            //if (rtePaste) return false;\n\n            var key = e.which;\n            var ctrl = e.ctrlKey || e.metaKey;\n\n            //CTRL + D\n            if (ctrl && key === 68) {\n                e.preventDefault();\n                this.toggle();\n                return false;\n            }\n\n        }, this));\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.link = {\n        init: function() {\n            var redactor = this;\n\n            var index = $.inArray('link', this.opts.buttons);\n\n            if (index == -1) return;\n\n            this.buttonRemove('link');\n\n            if (index === 0) {\n                var button = this.buttonAddFirst('link', 'Link', openModal);\n            } else {\n                var button = this.buttonAddAfter(this.opts.buttons[index-1], 'link', 'Link', openModal);\n            }\n\n            this.linkObserver = $.proxy(linkObserver, redactor);\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n    function openModal(btnName, buttonElem, btnObject, event) {\n        var redactor = this;\n        redactor.selectionSave();\n\n        var tdata = {};\n        tdata.showSitePages = (Editor.site_pages);\n        tdata.showNavee = (Editor.navee);\n        tdata.sitePages = (Editor.site_pages) ? Editor.site_pages : '';\n\n        // title, content, width, callback\n        redactor.modalInit('Link', Editor.Templates.plugins_link(tdata), 600, $.proxy(modalInitCallback, redactor));\n    }\n\n    // ----------------------------------------------------------------------\n\n    function modalInitCallback() {\n        var redactor = this;\n        var modal = $('#redactor_modal');\n        var tabSelected = $('#redactor_tab_selected');\n\n        redactor.insert_link_node = false;\n\n        var sel = redactor.getSelection();\n        var url = '', text = '', target = '';\n\n        var elem = redactor.getParent();\n        var par = $(elem).parent().get(0);\n        if (par && par.tagName === 'A')\n        {\n            elem = par;\n        }\n\n        if (elem && elem.tagName === 'A')\n        {\n            url = elem.href;\n            text = $(elem).text();\n            target = elem.target;\n\n            redactor.insert_link_node = elem;\n        }\n        else text = sel.toString();\n\n        modal.find('.redactor_link_text').val(text);\n\n        var thref = self.location.href.replace(/\\/$/i, '');\n        url = url.replace(thref, '');\n        url = url.replace(/^\\/#/, '#');\n        //url = url.replace('mailto:', '');\n\n        if (url.search('mailto:') === 0) {\n            var tab = modal.find('.tab-email');\n            redactor.modalSetTab.call(redactor, 4);\n\n            tabSelected.val(4);\n            tab.find('.redactor_link').val(url.replace('mailto:', ''));\n        } else if ( $('#redactor_site_page').find(\"option[value='\"+url+\"']\").length > 0 ) {\n            redactor.modalSetTab.call(redactor, 2);\n\n            tabSelected.val(2);\n            $('#redactor_site_page').val(url);\n        } else if ( $('#redactor_navee').find(\"option[value='\"+url+\"']\").length > 0 ) {\n            redactor.modalSetTab.call(redactor, 3);\n\n            tabSelected.val(3);\n            $('#redactor_navee').val(url);\n        } else {\n            var tab = modal.find('.tab-url');\n            tab.find('.redactor_link').val(url);\n        }\n\n        if (target === '_blank') {\n            modal.find('.redactor_link_blank').attr('checked', true);\n        }\n\n        modal.find('.redactor_tab:visible').find('.redactor_input:first').focus();\n\n        modal.find('.redactor_modal_action_btn').click($.proxy(insertLink, redactor));\n    }\n\n    // ----------------------------------------------------------------------\n\n    function insertLink(event) {\n        var redactor = this;\n        var modal = $('#redactor_modal');\n        var tabSelected = $('#redactor_tab_selected').val();\n        var link = '', text = '', target = '', targetBlank = '';\n        var tab = $('#redactor_tab' + tabSelected);\n\n        link = tab.find('.redactor_link').val();\n        text = tab.find('.redactor_link_text').val();\n\n        if (tab.find('.redactor_link_blank').attr('checked')) {\n            target = ' target=\"_blank\"';\n            targetBlank = '_blank';\n        }\n\n        // URL\n        if (tabSelected === '1') {\n            // test url (add protocol)\n            var pattern = '((xn--)?[a-z0-9]+(-[a-z0-9]+)*\\.)+[a-z]{2,}';\n            var re = new RegExp('^(http|ftp|https)://' + pattern, 'i');\n            var re2 = new RegExp('^' + pattern, 'i');\n\n            if (link.search(re) == -1 && link.search(re2) == 0 && redactor.opts.linkProtocol) {\n                link = redactor.opts.linkProtocol + link;\n            }\n        }\n\n        // site pages\n        else if (tabSelected === '2') {\n            // test http\n            re = new RegExp('^https?://', 'i');\n            if (link.search(re) == -1) {\n                link = redactor.opts.protocol + link;\n            }\n        }\n\n        // MAil\n        else if (tabSelected === '4') {\n            link = 'mailto:' + link;\n        }\n\n        text = text.replace(/<|>/g, '');\n\n        var extra = '&nbsp;';\n        if (redactor.browser('mozilla')) {\n            extra = '&nbsp;';\n        }\n\n        this.linkInsert('<a href=\"' + link + '\"' + target + '>' + text + '</a>' + extra, $.trim(text), link, targetBlank);\n    }\n\n    // ----------------------------------------------------------------------\n\n    function linkObserver(e) {\n        var $link = $(e.target);\n\n        var parent = $(e.target).parent();\n        if (parent.hasClass('royalSlider') || parent.hasClass('fotorama'))\n        {\n            return;\n        }\n\n        if ($link.size() == 0 || $link[0].tagName !== 'A') return;\n\n        var pos = $link.offset();\n        if (this.opts.iframe)\n        {\n            var posFrame = this.$frame.offset();\n            pos.top = posFrame.top + (pos.top - $(this.document).scrollTop());\n            pos.left += posFrame.left;\n        }\n\n        var tooltip = $('<span class=\"redactor-link-tooltip\"></span>');\n\n        var href = $link.attr('href');\n        if (href === undefined)\n        {\n            href = '';\n        }\n\n        if (href.length > 24) href = href.substring(0, 24) + '...';\n\n        var aLink = $('<a href=\"' + $link.attr('href') + '\" target=\"_blank\">' + href + '</a>').on('click', $.proxy(function(e)\n        {\n            this.linkObserverTooltipClose(false);\n        }, this));\n\n        var aEdit = $('<a href=\"#\">' + this.opts.curLang.edit + '</a>').on('click', $.proxy(function(e)\n        {\n            e.preventDefault();\n            openModal.call(this);\n            this.linkObserverTooltipClose(false);\n\n        }, this));\n\n        var aUnlink = $('<a href=\"#\">' + this.opts.curLang.unlink + '</a>').on('click', $.proxy(function(e)\n        {\n            e.preventDefault();\n            this.execCommand('unlink');\n            this.linkObserverTooltipClose(false);\n\n        }, this));\n\n\n        tooltip.append(aLink);\n        tooltip.append(' | ');\n        tooltip.append(aEdit);\n        tooltip.append(' | ');\n        tooltip.append(aUnlink);\n        tooltip.css({\n            top: (pos.top + 20) + 'px',\n            left: pos.left + 'px'\n        });\n\n        $('.redactor-link-tooltip').remove();\n        $('body').append(tooltip);\n    }\n\n    // ----------------------------------------------------------------------\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.fontcolor = {\n        init: function()\n        {\n            var colors = [\n                '#ffffff', '#000000', '#eeece1', '#1f497d', '#4f81bd', '#c0504d', '#9bbb59', '#8064a2', '#4bacc6', '#f79646', '#ffff00',\n                '#f2f2f2', '#7f7f7f', '#ddd9c3', '#c6d9f0', '#dbe5f1', '#f2dcdb', '#ebf1dd', '#e5e0ec', '#dbeef3', '#fdeada', '#fff2ca',\n                '#d8d8d8', '#595959', '#c4bd97', '#8db3e2', '#b8cce4', '#e5b9b7', '#d7e3bc', '#ccc1d9', '#b7dde8', '#fbd5b5', '#ffe694',\n                '#bfbfbf', '#3f3f3f', '#938953', '#548dd4', '#95b3d7', '#d99694', '#c3d69b', '#b2a2c7', '#b7dde8', '#fac08f', '#f2c314',\n                '#a5a5a5', '#262626', '#494429', '#17365d', '#366092', '#953734', '#76923c', '#5f497a', '#92cddc', '#e36c09', '#c09100',\n                '#7f7f7f', '#0c0c0c', '#1d1b10', '#0f243e', '#244061', '#632423', '#4f6128', '#3f3151', '#31859b',  '#974806', '#7f6000'\n            ];\n\n            var buttons = ['fontcolor', 'backcolor'];\n\n            for (var i = 0; i < 2; i++)\n            {\n                var name = buttons[i];\n\n                var $dropdown = $('<div class=\"redactor_dropdown redactor_dropdown_box_' + name + '\" style=\"display: none; width: 243px;\">');\n\n                this.pickerBuild($dropdown, name, colors);\n                $(this.$toolbar).append($dropdown);\n\n                var btn = this.buttonAdd(name, this.opts.curLang[name], $.proxy(function(btnName, $button, btnObject, e)\n                {\n                    this.dropdownShow(e, btnName);\n\n                }, this));\n\n                btn.data('dropdown', $dropdown);\n            }\n        },\n        pickerBuild: function($dropdown, name, colors)\n        {\n            var rule = 'color';\n            if (name === 'backcolor') rule = 'background-color';\n\n            var _self = this;\n            var onSwatch = function(e)\n            {\n                e.preventDefault();\n\n                var $this = $(this);\n                _self.pickerSet($this.data('rule'), $this.attr('rel'));\n\n            };\n\n            var len = colors.length;\n            for (var z = 0; z < len; z++)\n            {\n                var color = colors[z];\n\n                var $swatch = $('<a rel=\"' + color + '\" data-rule=\"' + rule +'\" href=\"#\" style=\"float: left; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 20px; height: 20px;\"></a>');\n                $swatch.css('background-color', color);\n                $dropdown.append($swatch);\n                $swatch.on('click', onSwatch);\n            }\n\n            var $elNone = $('<a href=\"#\" style=\"display: block; clear: both; padding: 4px 0; font-size: 11px; line-height: 1;\"></a>')\n            .html(this.opts.curLang.none)\n            .on('click', function(e)\n            {\n                e.preventDefault();\n                _self.pickerSet(rule, false);\n            });\n\n            $dropdown.append($elNone);\n        },\n        pickerSet: function(rule, type)\n        {\n            this.bufferSet();\n\n            this.$editor.focus();\n            this.inlineRemoveStyle(rule);\n            if (type !== false) this.inlineSetStyle(rule, type);\n            if (this.opts.air) this.$air.fadeOut(100);\n            this.sync();\n        }\n    };\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.fontfamily = {\n        init: function ()\n        {\n            var fonts = [ 'Arial', 'Helvetica', 'Georgia', 'Times New Roman', 'Monospace' ];\n            var that = this;\n            var dropdown = {};\n\n            $.each(fonts, function(i, s)\n            {\n                dropdown['s' + i] = { title: s, callback: function() { that.setFontfamily(s); }};\n            });\n\n            dropdown['remove'] = { title: 'Remove font', callback: function() { that.resetFontfamily(); }};\n\n            this.buttonAdd('fontfamily', 'Change font family', false, dropdown);\n        },\n        setFontfamily: function (value)\n        {\n            this.inlineSetStyle('font-family', value);\n        },\n        resetFontfamily: function()\n        {\n            this.inlineRemoveStyle('font-family');\n        }\n    };\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.fontsize = {\n        init: function()\n        {\n            var fonts = [10, 11, 12, 14, 16, 18, 20, 24, 28, 30];\n            var that = this;\n            var dropdown = {};\n\n            $.each(fonts, function(i, s)\n            {\n                dropdown['s' + i] = { title: s + 'px', callback: function() { that.setFontsize(s); } };\n            });\n\n            dropdown['remove'] = { title: 'Remove font size', callback: function() { that.resetFontsize(); } };\n\n            this.buttonAdd('fontsize', 'Change font size', false, dropdown);\n        },\n        setFontsize: function(size)\n        {\n            this.inlineSetStyle('font-size', size + 'px');\n        },\n        resetFontsize: function()\n        {\n            this.inlineRemoveStyle('font-size');\n        }\n    };\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.fullscreen = {\n        init: function()\n        {\n            this.fullscreen = false;\n\n            this.buttonAdd('fullscreen', 'Fullscreen', $.proxy(this.toggleFullscreen, this));\n\n            if (this.opts.fullscreen) this.toggleFullscreen();\n        },\n        enableFullScreen: function()\n        {\n            this.buttonChangeIcon('fullscreen', 'normalscreen');\n            this.buttonActive('fullscreen');\n            this.fullscreen = true;\n\n            if (this.opts.toolbarExternal)\n            {\n                this.toolcss = {};\n                this.boxcss = {};\n                this.toolcss.width = this.$toolbar.css('width');\n                this.toolcss.top = this.$toolbar.css('top');\n                this.toolcss.position = this.$toolbar.css('position');\n                this.boxcss.top = this.$box.css('top');\n            }\n\n            this.fsheight = this.$editor.height();\n            if (this.opts.iframe) this.fsheight = this.$frame.height();\n\n            if (this.opts.maxHeight) this.$editor.css('max-height', '');\n            if (this.opts.iframe) var html = this.get();\n\n            if (!this.$fullscreenPlaceholder) this.$fullscreenPlaceholder = $('<div/>');\n            this.$fullscreenPlaceholder.insertAfter(this.$box);\n\n            this.$box.appendTo(document.body);\n\n            this.$box.addClass('redactor_box_fullscreen');\n            $('body, html').css('overflow', 'hidden');\n\n            if (this.opts.iframe) this.fullscreenIframe(html);\n\n            this.fullScreenResize();\n            $(window).resize($.proxy(this.fullScreenResize, this));\n            $(document).scrollTop(0, 0);\n\n            this.focus();\n            this.observeStart();\n        },\n        disableFullScreen: function()\n        {\n            this.buttonRemoveIcon('fullscreen', 'normalscreen');\n            this.buttonInactive('fullscreen');\n            this.fullscreen = false;\n\n            $(window).off('resize', $.proxy(this.fullScreenResize, this));\n            $('body, html').css('overflow', '');\n\n            this.$box.insertBefore(this.$fullscreenPlaceholder);\n            this.$fullscreenPlaceholder.remove();\n\n            this.$box.removeClass('redactor_box_fullscreen').css({ width: 'auto', height: 'auto' });\n\n            if (this.opts.iframe) html = this.$editor.html();\n\n            if (this.opts.iframe) this.fullscreenIframe(html);\n            else this.sync();\n\n            var height = this.fsheight;\n            if (this.opts.autoresize) height = 'auto';\n            if (this.opts.maxHeight) this.$editor.css('max-height', this.opts.maxHeight);\n\n            if (this.opts.toolbarExternal)\n            {\n                this.$box.css('top', this.boxcss.top);\n                this.$toolbar.css({\n                    'width': this.toolcss.width,\n                    'top': this.toolcss.top,\n                    'position': this.toolcss.position\n                });\n            }\n\n            if (!this.opts.iframe) this.$editor.css('height', height);\n            else this.$frame.css('height', height);\n\n            this.$editor.css('height', height);\n            this.focus();\n            this.observeStart();\n        },\n        toggleFullscreen: function()\n        {\n            if (!this.fullscreen)\n            {\n                this.enableFullScreen();\n            }\n            else\n            {\n                this.disableFullScreen();\n            }\n        },\n        fullscreenIframe: function(html)\n        {\n            this.$editor = this.$frame.contents().find('body');\n            this.$editor.attr({ 'contenteditable': true, 'dir': this.opts.direction });\n\n            // set document & window\n            if (this.$editor[0])\n            {\n                this.document = this.$editor[0].ownerDocument;\n                this.window = this.document.defaultView || window;\n            }\n\n            // iframe css\n            this.iframeAddCss();\n\n            if (this.opts.fullpage) this.setFullpageOnInit(html);\n            else this.set(html);\n\n            if (this.opts.wym) this.$editor.addClass('redactor_editor_wym');\n        },\n        fullScreenResize: function()\n        {\n            if (!this.fullscreen) return false;\n\n            var toolbarHeight = this.$toolbar.height();\n\n            var pad = this.$editor.css('padding-top').replace('px', '');\n            var height = $(window).height() - toolbarHeight;\n            this.$box.width($(window).width() - 2).height(height + toolbarHeight);\n\n            if (this.opts.toolbarExternal)\n            {\n                this.$toolbar.css({\n                    'top': '0px',\n                    'position': 'absolute',\n                    'width': '100%'\n                });\n\n                this.$box.css('top', toolbarHeight + 'px');\n            }\n\n            if (!this.opts.iframe) this.$editor.height(height - (pad * 2));\n            else\n            {\n                setTimeout($.proxy(function()\n                {\n                    this.$frame.height(height);\n\n                }, this), 1);\n            }\n\n            this.$editor.height(height);\n        }\n    };\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.textdirection = {\n        init: function()\n        {\n            var that = this;\n            var dropdown = {};\n\n            dropdown['ltr'] = { title: 'Left to right', callback: function () { that.ltrTextDirection(); } };\n            dropdown['rtl'] = { title: 'Right to left', callback: function () { that.rtlTextDirection(); } };\n\n            this.buttonAdd('direction', 'Change direction', false, dropdown);\n        },\n        rtlTextDirection: function()\n        {\n            this.bufferSet();\n            this.blockSetAttr('dir', 'rtl');\n        },\n        ltrTextDirection: function()\n        {\n            this.bufferSet();\n            this.blockRemoveAttr('dir');\n        }\n    };\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.paste_plain = {\n        init: function() {\n            var index = $.inArray('paste_plain', this.opts.buttons);\n\n            if (index == -1) return;\n\n            if (index === 0) {\n                var button = this.buttonAddFirst('paste_plain', 'Paste Plain', openModal);\n            } else {\n                var button = this.buttonAddAfter(this.opts.buttons[index-1], 'paste_plain', 'Paste Plain', openModal);\n            }\n\n            //\n            button.removeClass('redactor-btn-image');\n            //button.addClass('fa-redactor-btn');\n            button.html('<i class=\"dicon-clipboard\"></i>');\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n    function openModal(btnName, buttonElem, btnObject, event) {\n        var redactor = this;\n        redactor.selectionSave();\n\n        var tdata = {};\n\n        // title, content, width, callback\n        redactor.modalInit('Paste Plain Text', Editor.Templates.plugins_paste_plain(tdata), 600, $.proxy(modalInitCallback, redactor));\n    }\n\n    // ----------------------------------------------------------------------\n\n    function modalInitCallback() {\n        var redactor = this;\n        var modal = $('#redactor_modal');\n\n        modal.find('textarea')[0].focus();\n        modal.find('.redactor_modal_action_btn').click($.proxy(savePaste, redactor));\n    }\n\n    // ----------------------------------------------------------------------\n\n    function savePaste(event) {\n        var redactor = this;\n\n        var content = $('#redactor_paste_plaintext_area').val();\n        content = redactor.cleanParagraphy(content);\n\n        redactor.selectionRestore();\n        redactor.insertHtml(content);\n        redactor.sync();\n        redactor.modalClose();\n    }\n\n    // ----------------------------------------------------------------------\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.styles = {\n        init: function() {\n            var index = $.inArray('styles', this.opts.buttons);\n            if (index == -1) return;\n\n            var dropdown = {};\n            if (typeof(Editor.settings) == 'undefined') Editor.settings = {};\n            if (typeof(Editor.settings.styles) == 'undefined') Editor.settings.styles = {};\n            if (typeof(Editor.settings.styles.styles) == 'undefined') Editor.settings.styles.styles = [];\n\n            var styles = Editor.settings.styles.styles;\n\n            for (var i = 0; i < styles.length; i++) {\n                dropdown['style_'+i] = {\n                    title: styles[i].title,\n                    className: 'style_'+i,\n                    callback: applyStyle\n                };\n            }\n\n            if (index === 0) {\n                var button = this.buttonAddFirst('styles', 'Styles', null, dropdown);\n            } else {\n                var button = this.buttonAddAfter(this.opts.buttons[index-1], 'styles', 'Styles', null, dropdown);\n            }\n\n            //\n            button.removeClass('redactor-btn-image');\n            //button.addClass('fa-redactor-btn');\n            button.html('<i class=\"dicon-brush\"></i>');\n\n            var dropdownElem = $(button.closest('.redactor_toolbar').find('.redactor_dropdown_box_styles'));\n\n            for (var i = 0; i < styles.length; i++) {\n                dropdownElem.find('.'+'style_'+i).addClass(styles[i].btn_class).attr({\n                    'style':styles[i].btn_style,\n                    'data-key': i\n                });\n            }\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n    function applyStyle(btnName, btnElem, btnObject, event) {\n        var redactor = this;\n        redactor.selectionSave();\n        redactor.bufferSet();\n\n        if (redactor.getCurrent().className == 'redactor_box') {\n            return;\n        }\n\n        if (redactor.getCurrent().tagName.toLowerCase() == 'body') {\n            return;\n        }\n\n\n        //var key = event.target.getAttribute('data-key');\n        var key = btnName.substr(6);\n        var tmpl = Editor.settings.styles.styles[key];\n        var elem, temp;\n\n        // Lets parse the attributes\n        var attributes = {};\n        if (tmpl.attr){\n            temp = $('<div '+tmpl.attr+'>');\n\n            for (var i = temp[0].attributes.length - 1; i >= 0; i--) {\n                attributes[temp[0].attributes[i].name] = temp[0].attributes[i].value;\n            };\n\n        }\n\n        tmpl.attr_obj = attributes;\n\n        // Lets parse the styles\n        var styles = {};\n        if (tmpl.styles){\n            temp = tmpl.styles.split(';');\n\n            for (var i = temp.length - 1; i >= 0; i--) {\n                temp[i] = temp[i].split(':');\n\n                if (typeof temp[i][1] != 'undefined') {\n                    styles[temp[i][0]] = temp[i][1];\n                }\n            }\n        }\n        tmpl.styles_obj = styles;\n\n        var selection = redactor.getSelectionHtml();\n        var selection_obj = $(selection);\n\n\n        // If empty string\n        if (!selection) {\n            tmpl.type = 'current';\n        }\n\n        if (selection_obj.length > 0) {\n            alert('Applying styles to multiple paragraph is not supported');\n            return;\n        }\n\n        if (tmpl.type == 'inline') {\n            execStyle('inline', redactor, tmpl, selection);\n        }\n\n        else if (tmpl.type == 'block') {\n            execStyle('block', redactor, tmpl, selection);\n        }\n\n        else if (tmpl.type == 'custom') {\n            execStyle('custom', redactor, tmpl, selection);\n        }\n\n        else if (tmpl.type == 'current') {\n            elem = $(redactor.getCurrent());\n            elem.attr('style', tmpl.styles);\n            elem.attr(tmpl.attr_obj);\n            elem.addClass(tmpl.classes);\n            Editor.TriggerRedactorCleanup(redactor);\n        }\n    }\n\n    // ----------------------------------------------------------------------\n\n    function execStyle(type, redactor, tmpl, selection){\n\n        var elem = $(redactor.getCurrent());\n        var temp;\n\n        if (type == 'inline') {\n            temp = $('<div><span></span></div>').find('span');\n\n            for (var style in tmpl.styles_obj) {\n                //redactor.inlineSetStyle(style, tmpl.styles_obj[style]);\n            }\n\n        } else if (type == 'block') {\n            temp = $('<div><div></div></div>').find('div');\n        } else if (type == 'custom') {\n            temp = $('<div><'+tmpl.custom_type+'></'+tmpl.custom_type+'></div>').find(tmpl.custom_type);\n        } else {\n            temp = $('<div><span></span></div>').find('span');\n        }\n\n        var temp = temp.attr('style', tmpl.styles).attr('class', tmpl.classes).attr(tmpl.attr_obj).html(selection);\n/*\n        if (type == 'inline') {\n            replaceSelectedText(temp);\n            return;\n        }\n*/\n        temp = temp.parent().html();\n        elem.html(elem.html().replace(selection, temp) );\n\n        redactor.selectionRestore();\n\n        //Editor.TriggerRedactorCleanup(redactor);\n    };\n\n    // ----------------------------------------------------------------------\n\n    function replaceSelectedText(replacementText) {\n        var sel, range;\n        if (window.getSelection) {\n            sel = window.getSelection();\n            if (sel.rangeCount) {\n                range = sel.getRangeAt(0);\n                range.deleteContents();\n\n                if (typeof replacementText == 'string') {\n                    range.insertNode(document.createTextNode(replacementText));\n                } else {\n                    range.insertNode(replacementText[0]);\n                }\n            }\n        } else if (document.selection && document.selection.createRange) {\n            range = document.selection.createRange();\n            range.text = replacementText;\n        }\n    }\n\n    // ----------------------------------------------------------------------\n\n\n}(window, jQuery));",";(function(global, $){\n    //es5 strict mode\n    \"use strict\";\n\n    var RedactorPlugins = global.RedactorPlugins = global.RedactorPlugins || {};\n    var Editor = global.Editor = global.Editor || {};\n\n    // ----------------------------------------------------------------------\n\n    RedactorPlugins.templates = {\n        init: function() {\n            var index = $.inArray('templates', this.opts.buttons);\n            if (index == -1) return;\n\n            var dropdown = {};\n            if (typeof(Editor.settings) == 'undefined') Editor.settings = {};\n            if (typeof(Editor.settings.templates) == 'undefined') Editor.settings.templates = {};\n            if (typeof(Editor.settings.templates.templates) == 'undefined') Editor.settings.templates.templates = [];\n\n            var templates = Editor.settings.templates.templates;\n\n            for (var i = 0; i < templates.length; i++) {\n                dropdown['template_'+i] = {\n                    title: templates[i].title,\n                    className: 'template_'+i,\n                    callback: applyTemplate\n                };\n            }\n\n            if (index === 0) {\n                var button = this.buttonAddFirst('templates', 'Templates', null, dropdown);\n            } else {\n                var button = this.buttonAddAfter(this.opts.buttons[index-1], 'templates', 'Templates', null, dropdown);\n            }\n\n            //\n            button.removeClass('redactor-btn-image');\n            //button.addClass('fa-redactor-btn');\n            button.html('<i class=\"dicon-page-blocks\"></i>');\n\n            var dropdownElem = $(button.closest('.redactor_toolbar').find('.redactor_dropdown_box_templates'));\n\n            for (var i = 0; i < templates.length; i++) {\n                dropdownElem.find('.'+'template_'+i).addClass(templates[i].btn_class).attr({\n                    'data-key': i\n                });\n            }\n        }\n    };\n\n    // ----------------------------------------------------------------------\n\n    function applyTemplate(btnName, btnElem, btnObject, event) {\n        var redactor = this;\n        redactor.selectionSave();\n        redactor.bufferSet();\n\n        if (redactor.getCurrent().className == 'redactor_box') {\n            return;\n        }\n\n        if (redactor.getCurrent().tagName.toLowerCase() == 'body') {\n            return;\n        }\n\n        var key = btnName.substr(9);\n        var tmpl = Editor.settings.templates.templates[key];\n        var html = tmpl.html;\n\n        redactor.selectionRestore();\n        redactor.insertHtml(html);\n        redactor.sync();\n    }\n\n    // ----------------------------------------------------------------------\n\n}(window, jQuery));"]}